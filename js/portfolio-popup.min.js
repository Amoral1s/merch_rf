jQuery(document).ready((function(o){o(".portfolio-popup-toggle .thumb").on("click",(function(){var t=o(this).closest(".portfolio-popup-toggle").data("id");o(".overlay").fadeIn(300),o("html").addClass("fixed"),o(".portfolio-popup").fadeIn(),o(".portfolio-popup .wrapper").html('<div class="loader">Загрузка...</div>'),o.ajax({url:portfolioAjax.ajaxurl,type:"POST",data:{action:"load_portfolio_popup",post_id:t},success:function(t){t.success&&(o(".portfolio-popup .wrapper").html(t.data),o(".portfolio-popup").fadeIn(),o(".call-portfolio").on("click",(function(t){let e=t.target;o(".popup.popup-portfolio").fadeIn(300),o(".popup").removeClass("popup-thx"),o(".overlay").fadeIn(300),o(".popup.popup-portfolio .data-title").val(o(e).attr("data-title")),o("html").addClass("fixed")})),function(){new Swiper(".portfolio-popup .swiper",{spaceBetween:0,slidesPerView:1,autoHeight:!0,pagination:{el:".portfolio-popup .dots",clickable:!0},navigation:{nextEl:".portfolio-popup .arr-next",prevEl:".portfolio-popup .arr-prev"}});function o(o){const t=document.querySelectorAll(o);t.length>0&&t.forEach((t=>{const e=t.querySelectorAll("a");e.length>0&&e.forEach((o=>{const t=o.getAttribute("href");o.setAttribute("data-src",t)}));const p=t.querySelectorAll("figure");p.length>0&&p.forEach((o=>{const t=o.querySelector("a").getAttribute("href");t&&o.setAttribute("data-src",t)}));const l=t.querySelectorAll("div");l.length>0&&l.forEach((o=>{const t=o.getAttribute("href");o.setAttribute("data-src",t)})),lightGallery(t,{thumbnail:!0,animateThumb:!1,showThumbByDefault:!1,plugins:[lgThumbnail],swipeThreshold:50,mode:"lg-fade",download:!1,mobileSettings:{controls:!0,showCloseIcon:!0}}),console.log("Initialized LightGallery for",o)}))}o(".portfolio-popup .mag-toggle")}())},error:function(){o(".portfolio-popup .wrapper").html('<div class="loader">Произошла ошибка, попробуйте еще раз.</div>')}})})),o(document).on("click",".portfolio-popup .close",(function(){o(".portfolio-popup").fadeOut((function(){o(".portfolio-popup .wrapper").empty(),o(".overlay").fadeOut(300),o("html").removeClass("fixed")}))}))}));